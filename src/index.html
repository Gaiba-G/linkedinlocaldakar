<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Linkedinlocaldakar</title>
  <base href="/">
  <link rel="stylesheet" href="https://cdn.payexpresse.com/v1/payexpresse.min.css">
  <script
          src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
          integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
          crossorigin="anonymous"></script>
  <script src="assets/js/map.js"></script>
  <script src="assets/js/mapbox.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
    <div class="boxed_wrapper">

  <!--Start Preloader -->
  <div class="preloader"></div>
  <!--End Preloader -->
  <div class="sdfasd"></div>
  
  <app-root></app-root>
  <!--Scroll to top-->
<div class="scroll-to-top scroll-to-target" data-target="html"><span class="fa fa-angle-up"></span></div>

<script>
                        
                        
  function buy(btn) {
    let offer_id = $('#offer_id').val();
    let nom = $("#nom").val();
    let prenom = $('#prenom').val();
    let email = $("#email").val();
    let tel = $("#tel").val();

    let data= {
      "nom": nom,
      "prenom": prenom,
      "email": email,
      "tel": tel,
      "offer_id":offer_id
    }
      var selector = $(btn);

      (new PayExpresse(data).withOption({
          requestTokenUrl           :   'https://backend-linkedin-local-dakar.herokuapp.com/api/payit',
          method              :   'POST',
          headers             :   {
              "Accept"          :    "text/html"
          },
          prensentationMode   :   PayExpresse.OPEN_IN_POPUP,
          didPopupClosed: function (is_completed, success_url, cancel_url) {
              window.location.href = is_completed === true ? success_url  : cancel_url;
          },
          willGetToken        :   function () {
              console.log("Je me prepare a obtenir un token");
              selector.prop('disabled', true);
          },
          didGetToken         : function (token, redirectUrl) {
              console.log("Mon token est : " +  token  + ' et url est ' + redirectUrl );
              selector.prop('disabled', false);
          },
          didReceiveError: function (error) {
              alert('erreur inconnu', error.toString());
              selector.prop('disabled', false);
          },
          didReceiveNonSuccessResponse: function (jsonResponse) {
              console.log('non success response ',jsonResponse);
              alert(jsonResponse.errors);
              selector.prop('disabled', false);
          }
      }).send())
            

      //.send params are optional
  }

  function buy1(btn) {
    let offer_id = $('#offer_id1').val();
    let nom = $("#nom1").val();
    let prenom = $('#prenom1').val();
    let email = $("#email1").val();
    let tel = $("#tel1").val();

    let data= {
      "nom": nom,
      "prenom": prenom,
      "email": email,
      "tel": tel,
      "offer_id":offer_id
    }
      var selector = $(btn);

      (new PayExpresse(data).withOption({
          requestTokenUrl           :   'https://backend-linkedin-local-dakar.herokuapp.com/api/payit',
          method              :   'POST',
          headers             :   {
              "Accept"          :    "text/html"
          },
          prensentationMode   :   PayExpresse.OPEN_IN_POPUP,
          didPopupClosed: function (is_completed, success_url, cancel_url) {
              window.location.href = is_completed === true ? success_url  : cancel_url;
          },
          willGetToken        :   function () {
              console.log("Je me prepare a obtenir un token");
              selector.prop('disabled', true);
          },
          didGetToken         : function (token, redirectUrl) {
              console.log("Mon token est : " +  token  + ' et url est ' + redirectUrl );
              selector.prop('disabled', false);
          },
          didReceiveError: function (error) {
              alert('erreur inconnu', error.toString());
              selector.prop('disabled', false);
          },
          didReceiveNonSuccessResponse: function (jsonResponse) {
              console.log('non success response ',jsonResponse);
              alert(jsonResponse.errors);
              selector.prop('disabled', false);
          }
      }).send())
            

      //.send params are optional
  }
</script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/popper.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/jquery.fancybox.js"></script>
<script src="assets/js/owl.js"></script>
<script src="assets/js/wow.js"></script>
<script src="assets/js/jquery.countTo.js"></script>
<script src="assets/js/jquery.countdown.min.js"></script>
<script src="assets/js/appear.js"></script>
<script src="assets/js/jquery-ui.js"></script>
<script src="assets/js/isotope.js"></script>
<script src="assets/js/bxslider.js"></script>
<script src="assets/js/validate.js"></script>
<script>$('#myModal').on('shown.bs.modal', function () {
  $('#myInput').trigger('focus')
})</script>

<!-- Custom script -->
<script src="assets/js/custom.js"></script>
    </div>

</body>
</html>
